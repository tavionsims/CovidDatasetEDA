# -*- coding: utf-8 -*-
"""Covid_Dataset.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1NqlyqzQDAKlGmLdf3xn6ZO4mMdhWjw4y
"""

#Downloading the COVID dataset

!pip install covid

#Now since we downloded the package we have to import the library

from covid import Covid

covid = Covid(source="john_hopkins")

#To display all of the data we use get_data() method

covid.get_data()

#Example of a query, long way

india = covid.get_status_by_country_name("india")

data ={key:india[key]
       for key in india.keys() and {'confirmed','deaths'}}

print(data)

#Looking at modules basic functionality
#List Countrries and their ID's

#for example

covid.list_countries()

#Get status By Country Name

covid.get_status_by_country_name("italy")

#Get Total Confirmed cases

confirmed = covid.get_total_confirmed_cases()
print('Confirmed: ', end =" ")
print(confirmed)


deaths = covid.get_total_deaths()
print('Deaths: ', end = " ")
print(deaths)

#Now it is time to visualize the data
import pandas as pd

df = pd.DataFrame(covid.get_data())

df.head()

#It seems that the output is sorted by id number
#lets sort by 'confirmed' and print the Top 10 by usinf sorted

sorted = df.sort_values(by=['confirmed'], ascending=False)

top10 = sorted.head(10)

print(top10)

#creation of iies individual variables for countries in the top 10 and data of interest will help us as we begin creating visualizations

country = top10.country

d1 = top10.confirmed

d3 = top10.deaths

# Commented out IPython magic to ensure Python compatibility.
#Data Visualization
#first import the various Python Libraries

# %matplotlib inline
import matplotlib.pyplot as plt
import seaborn as sns

#to plot confirmed cases we have to use matplotlib library

plt.plot(country, d1)

#This rotates the x-axis labels
plt.xticks(rotation=90)

plt.show()

#Now we'll use a bar plot

plt.bar(confirmed, d1)

plt.xticks(rotation = 45)

plt.show()

plt.style.use('ggplot')
print(plt.style.available)

#This is done in matplotlib

labels = ['Confirmed', 'Deaths']

plt.plot(country,d1,country,d3)

plt.legend(labels, loc='upper right')

plt.xticks(rotation=90)

plt.show()

#This is done in seaborn

sns.lineplot(x=country, y=d1)

sns.lineplot(x=country, y=d3)

plt.legend(labels, loc='upper right')

plt.xticks(rotation=45)

plt.show()

#A multi-bar graph with matplotlib , using the variables we defined earlier

multi = pd.DataFrame([d1, d3])

multi.plot.bar()

plt.legend(country, loc='best')

plt.xticks(rotation=45)

plt.show()

#scatter plot in seaborn

sns.scatterplot(x=country, y=d1)

sns.scatterplot(x=country, y=d3)

plt.legend(labels, loc='best')

plt.xticks(rotation=45)

plt.show()

#piechart
# A pie chart is used when you want to show 100% of some quantity and the proportions that each piece of the pie contribute to that whole.
#A pie chart in matplotlib:

plt.pie(d3, labels=country)

plt.title('Covis-19 Deaths by Country')

plt.show()

